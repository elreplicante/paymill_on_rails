{"name":"Paymill on rails","tagline":"Paymill subscriptions with Rails 4.0.1","body":"# PaymillOnRails \r\n\r\n[**<img src=\"https://gemnasium.com/lgs/paymill_on_rails.png\" alt=\"Dependency Status\" />**][1] [**<img src=\"https://codeclimate.com/github/lgs/paymill_on_rails.png\" />**][2]\r\n\r\nPaymill subscriptions on Rails 4.0.1 and ruby-2.0.0-p247, [**deployed on Heroku**][3]. This code is adapted from [**Railscast #288**][4] and based on ruby wrapper for the Paymill API gem [**paymill-ruby**][5]. See also Paymill API reference:  [**Paymill API/v2 documentation**][6]\r\n\r\n## Security Standards\r\n\r\nImportant information for the credit card data in your HTML form:\r\n\r\nWith the payment form, it is essential that you do not put a name attribute with the <input> tags for credit card data! In this way, the credit card data will not be returned to your server, and you will stay outside the legal provisions concerning the storage of such data ([**PCI compliance**][7]). The only data which Paymill on Rails stores locally infact, are Plans and Subscriptions, which are not sensible and absolutely [**PCI compliant**][7].\r\n\r\nSee current Paymill on Rails data model \r\n\r\n```\r\n  ActiveRecord::Schema.define(version: 20121207103300) do\r\n\r\n    create_table \"plans\", force: true do |t|\r\n      t.string \"paymill_id\"\r\n      t.string \"name\"\r\n      t.float \"price\"\r\n      t.datetime \"created_at\"\r\n      t.datetime \"updated_at\"\r\n    end\r\n\r\n    create_table \"subscriptions\", force: true do |t|\r\n      t.integer \"plan_id\"\r\n      t.string \"email\"\r\n      t.string \"name\"\r\n      t.string \"paymill_id\"\r\n      t.datetime \"created_at\"\r\n      t.datetime \"updated_at\"\r\n    end\r\n\r\n  end\r\n```\r\n\r\nFor further reading see also [**payment form**][8] and [**security standards**][9]\r\n\r\n## Usage\r\n\r\nSince the release of [**paymill_on_rails gem 0.0.5**][10], PaymillOnRails becomes a [**Mountable Rails Engines**][11] for Rails 4. Set up a subscription payment integrating it with your existing Rails application service is now very simple just following nex steps:\r\n\r\n- register for a test account at [**paymill.com**][12] and create the subscription plans, also called Offers ([**read more**][13], which are how Subscription Plans are called in Paymill. \r\n\r\n- build a new Rails app from scratch (or use your existing one) :\r\n\r\n```\r\n$ rails new myapp && myapp\r\n$ echo \"gem 'paymill_on_rails' >> Gemfile\r\n$ bundle update\r\n$ rake paymill_on_rails:install:migrations\r\n$ rake db:migrate\r\n```\r\n\r\n- now mount the engine adding the following to config/routes.rb :\r\n\r\n```\r\n  Prova::Application.routes.draw do\r\n     root 'paymill_on_rails/plans#index' #(or use another path)\r\n     mount PaymillOnRails::Engine => \"/paymill_on_rails\"\r\n  end\r\n```\r\n\r\n- Login in with your Paymill account and follow [**Dasboard --> My Account --> Settings --> APY Keys**][14], to see your keys and set PAYMILL_PUBLIC_KEY/API_KEY accordingly. \r\n    \r\n- set OS env variables, with your own paymill test keys :\r\n\r\n```\r\n   $ env | grep _KEY\r\n   PAYMILL_PUBLIC_KEY=11111111111111111111111\r\n   API_KEY=a1b2c3d4e5f6g7h8i9l1i2m3\r\n```\r\n\r\n- get the plans and their IDs from paymill :\r\n\r\n```\r\n    $ rake paymill_on_rails:import_plans\r\n```\r\n\r\nThat's it! Run \r\n\r\n```\r\n    $ rails server\r\n```\r\nand it should work.\r\n\r\n## Deploy on Heroku\r\n\r\nIn your rails app  run \r\n\r\n```\r\n   $ heroku config:add BUNDLE_WITHOUT=\"development:test\"\r\n   $ heroku rake db:migrate\r\n   $ heroku rake paymill_on_rails:import_plans\r\n```\r\n\r\n## Current Bundle\r\n\r\nPATH\r\n```\r\n  remote: .\r\n  specs:\r\n    paymill_on_rails (0.0.6)\r\n      paymill (~> 0.4.0)\r\n      rails (~> 4.0.0)\r\n```\r\n\r\nGEM\r\n```\r\n  remote: https://rubygems.org/\r\n  specs:\r\n    actionmailer (4.0.1)\r\n      actionpack (= 4.0.1)\r\n      mail (~> 2.5.4)\r\n    actionpack (4.0.1)\r\n      activesupport (= 4.0.1)\r\n      builder (~> 3.1.0)\r\n      erubis (~> 2.7.0)\r\n      rack (~> 1.5.2)\r\n      rack-test (~> 0.6.2)\r\n    activemodel (4.0.1)\r\n      activesupport (= 4.0.1)\r\n      builder (~> 3.1.0)\r\n    activerecord (4.0.1)\r\n      activemodel (= 4.0.1)\r\n      activerecord-deprecated_finders (~> 1.0.2)\r\n      activesupport (= 4.0.1)\r\n      arel (~> 4.0.0)\r\n    activerecord-deprecated_finders (1.0.3)\r\n    activesupport (4.0.1)\r\n      i18n (~> 0.6, >= 0.6.4)\r\n      minitest (~> 4.2)\r\n      multi_json (~> 1.3)\r\n      thread_safe (~> 0.1)\r\n      tzinfo (~> 0.3.37)\r\n    arel (4.0.1)\r\n    atomic (1.1.14)\r\n    builder (3.1.4)\r\n    erubis (2.7.0)\r\n    hike (1.2.3)\r\n    i18n (0.6.5)\r\n    json (1.8.1)\r\n    mail (2.5.4)\r\n      mime-types (~> 1.16)\r\n      treetop (~> 1.4.8)\r\n    mime-types (1.25)\r\n    minitest (4.7.5)\r\n    multi_json (1.8.2)\r\n    paymill (0.4.0)\r\n      json\r\n    polyglot (0.3.3)\r\n    rack (1.5.2)\r\n    rack-test (0.6.2)\r\n      rack (>= 1.0)\r\n    rails (4.0.1)\r\n      actionmailer (= 4.0.1)\r\n      actionpack (= 4.0.1)\r\n      activerecord (= 4.0.1)\r\n      activesupport (= 4.0.1)\r\n      bundler (>= 1.3.0, < 2.0)\r\n      railties (= 4.0.1)\r\n      sprockets-rails (~> 2.0.0)\r\n    railties (4.0.1)\r\n      actionpack (= 4.0.1)\r\n      activesupport (= 4.0.1)\r\n      rake (>= 0.8.7)\r\n      thor (>= 0.18.1, < 2.0)\r\n    rake (10.1.0)\r\n    sprockets (2.10.0)\r\n      hike (~> 1.2)\r\n      multi_json (~> 1.0)\r\n      rack (~> 1.0)\r\n      tilt (~> 1.1, != 1.3.0)\r\n    sprockets-rails (2.0.1)\r\n      actionpack (>= 3.0)\r\n      activesupport (>= 3.0)\r\n      sprockets (~> 2.8)\r\n    sqlite3 (1.3.8)\r\n    thor (0.18.1)\r\n    thread_safe (0.1.3)\r\n      atomic\r\n    tilt (1.4.1)\r\n    treetop (1.4.15)\r\n      polyglot\r\n      polyglot (>= 0.3.1)\r\n    tzinfo (0.3.38)\r\n```\r\n\r\nPLATFORMS\r\n```\r\n  ruby 2.0.0\r\n```\r\n\r\nDEPENDENCIES\r\n```\r\n  paymill_on_rails!\r\n  sqlite3\r\n```\r\n\r\n## Related works\r\n\r\nSee [**apalancat**][15] gem [**paymill-rails**][16]. More in general see the [**Search repository results on github**][17].\r\n\r\n## Copyright\r\n\r\n(The MIT License)\r\n\r\nCopyright (c) 2013 Luca G. Soave\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the 'Software'), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n\r\n[1]: https://gemnasium.com/lgs/paymill_on_rails\r\n[2]: https://codeclimate.com/github/lgs/paymill-on-rails\r\n[3]: https://paymill-on-rails.herokuapp.com\r\n[4]: http://railscasts.com/episodes/288-billing-with-stripe\r\n[5]: https://github.com/dkd/paymill-ruby\r\n[6]: https://www.paymill.com/en-gb/documentation-3/reference/api-reference/index.html\r\n[7]: http://en.wikipedia.org/wiki/Payment_Card_Industry_Data_Security_Standard\r\n[8]: https://paymill.com/en-gb/documentation-3/introduction/payment-form\r\n[9]: https://paymill.com/en-gb/support-3/security/security-standards\r\n[10]: https://rubygems.org/gems/paymill_on_rails\r\n[11]: http://edgeguides.rubyonrails.org/engines.html\r\n[12]: https://paymill.com\r\n[13]: https://app.paymill.com/en-gb#!/offers\r\n[14]: https://app.paymill.com/en-gb#!/index\r\n[15]: https://github.com/apalancat\r\n[16]: https://github.com/apalancat/paymill-rails\r\n[17]: https://github.com/search?l=Ruby&q=paymill&ref=cmdform&type=Repositories\r\n\r\n\r\n\r\n","google":"UA-2914610-10","note":"Don't delete this file! It's used internally to help with page regeneration."}